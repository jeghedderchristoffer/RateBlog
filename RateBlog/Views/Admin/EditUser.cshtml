@model RateBlog.Models.AdminViewModels.EditUserViewModel
@inject RateBlog.Repository.IRepository<Category> CategoryRepo
@{ 
    ViewData["Title"] = "Edit user";
    string currentBool = ""; 
}

<div class="navbar-allaround"></div>

@Html.Partial("_NavbarPartial")

<div class="admin-content" style="background: #fafafa">


    <div class="container">
        <div class="col-md-offset-3 col-md-6" style="padding-top: 40px">
            <form asp-controller="Admin" asp-action="EditUser" method="post" enctype="multipart/form-data">
                @Html.HiddenFor(x => x.ApplicationUser.Id)
                <div class="profile-box">
                    <p>Fulde navn:</p>
                    <input asp-for="@Model.ApplicationUser.Name" class="edit-input" />
                    <span asp-validation-for="@Model.ApplicationUser.Name" class="text-danger" style="margin-left: 5px;"></span>

                    <p>Email:</p>
                    <input asp-for="@Model.ApplicationUser.Email" class="edit-input" />
                    <span asp-validation-for="@Model.ApplicationUser.Email" class="text-danger" style="margin-left: 5px;"></span>

                    <p>Fødselsdag:</p>
                    <input max="01-01-2017" asp-for="@Model.ApplicationUser.BirthDay" class="edit-input" type="date" />
                    <span asp-validation-for="@Model.ApplicationUser.BirthDay" class="text-danger" style="margin-left: 5px;"></span>

                    <p>Postnummer:</p>
                    <input asp-for="@Model.ApplicationUser.Postnummer" class="edit-input" />
                    <span asp-validation-for="@Model.ApplicationUser.Postnummer" class="text-danger" style="margin-left: 5px;"></span>

                    <p>Telefonnummer:</p>
                    <input asp-for="@Model.ApplicationUser.PhoneNumber" class="edit-input" />
                    <span asp-validation-for="@Model.ApplicationUser.PhoneNumber" class="text-danger" style="margin-left: 5px;"></span>

                    <p>Køn</p>
                    <label>
                        <input asp-for="@Model.ApplicationUser.Gender" class="w3-radio" type="radio" value="male">
                        Mand
                    </label>
                    <br />

                    <label>
                        <input asp-for="@Model.ApplicationUser.Gender" class="w3-radio" type="radio" value="female">
                        Kvinde
                    </label>
                    <br /><br />

                    <p>Profilbillede:</p>
                    <input type="file" name="pic" />
                    <br />

                    @if (Model.Influencer == null)
                    {
                        <button type="submit" class="admin-btn" style="background: #089de3">GEM</button>

                    }
                    else
                    {
                        <h4><b>Influencer oplysninger:</b></h4>
                        <br />

                        <p>Alias</p>
                        <input asp-for="@Model.Influencer.Alias" class="edit-input" />
                        <span asp-validation-for="@Model.Influencer.Alias" class="text-danger" style="margin-left: 5px;"></span>

                        <p>Kategorier</p>
                        <div class="choose-category" style="width: 100%">
                            @foreach (var cat in CategoryRepo.GetAll())
                            {
                                @if (Model.Influencer == null)
                                {
                                    currentBool = "";
                                }
                                else
                                {
                                    currentBool = (Model.Influencer.InfluenterKategori.Any(x => x.CategoryId == cat.Id)) ? "checked" : "";
                                }

                                <div class="tooltips">
                                    <div class="cat-check @cat.Name">
                                        <input @currentBool value="@cat.Id" name="categoriList" type="checkbox" id="@cat.Name" /> <label for="@cat.Name"></label>
                                    </div>
                                    <span style="bottom: 115%; left: 25px" class="tooltiptext">@cat.Name</span>
                                </div>
                            }
                        </div>

                        <p>Dine sociale medier:</p>

                        <input class="edit-input" autocomplete="off" asp-for="@Model.InstagramLink" type="text" placeholder="Instagram navn" />
                        <input class="edit-input" autocomplete="off" asp-for="@Model.TwitterLink" type="text" placeholder="Twitter navn" />
                        <input class="edit-input" autocomplete="off" asp-for="@Model.SnapchatLink" type="text" placeholder="Snapchat navn" /> 
                        <input class="edit-input" autocomplete="off" asp-for="@Model.FacebookLink" type="text" placeholder="Facebook link" />
                        <input class="edit-input" autocomplete="off" asp-for="@Model.YoutubeLink" type="text" placeholder="Youtube link" />
                        <input class="edit-input" autocomplete="off" asp-for="@Model.SecondYoutubeLink" type="text" placeholder="Second youtube link" />
                        <input class="edit-input" autocomplete="off" asp-for="@Model.TwitchLink" type="text" placeholder="Twitch link" />
                        <input class="edit-input" autocomplete="off" asp-for="@Model.WebsiteLink" type="text" placeholder="Website link" />

                        <p>Profiltekst:</p>
                        <textarea asp-for="@Model.Influencer.ProfileText" class="edit-input-influ" rows="10" style="height: auto; width: 100%" placeholder="Skriv om dig selv og dine interesser"></textarea>
                        <span asp-validation-for="@Model.Influencer.ProfileText" class="text-danger" style="margin-left: 5px;"></span>

                        <button type="submit" class="admin-btn" style="background: #089de3">GEM</button>
                    }


                </div>

            </form>
        </div>
    </div>
</div>