@model RateBlog.Models.InfluenterViewModels.ShowViewModel
@inject RateBlog.Services.IFeedbackService FeedbackService
@{
    ViewData["Title"] = Model.Influenter.Alias + "'s profil";
    var isUserCreated = (Model.ApplicationUser.NormalizedEmail.StartsWith("USERINFLUENCER")) ? true : false;
    var totalScore = FeedbackService.GetTotalScore(Model.Influenter.Id);
}

<div class="navbar-allaround"></div>

@if (TempData["Success"] != null)
{
    <div id="showSuc" class="alert fade in alert-success alert-dismissable alert-mobile" style="margin-top: 10px;  position: absolute; z-index: 5; left: 20%; right: 20%">
        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
        @TempData["Success"]
    </div>

    <script>
        window.setTimeout(function () {
            $("#showSuc").fadeOut(1000);
        }, 5000);
    </script>
}

<div class="background-all" style="padding-top: 40px;">

    <div class="container">
        <div class="col-md-12 noPadding">
            <div class="col-md-4 nopaddingmobile">
                <div class="white-box">

                    <img class="profile-img-big center-block" src="@Url.Action("UsersProfilePic", "Manage", new { Id = Model.ApplicationUser.Id})" />
                    <hr />
                    <h3>
                        @Model.Influenter.Alias
                        @if (!isUserCreated)
                        {
                            <i class="fa fa-check-circle" aria-hidden="true" style="color: #089de3;" title="Verificeret"></i>
                        }
                    </h3>
                    @if (!isUserCreated)
                    {
                        <h5>@Model.Age år</h5>
                        <h5>@Model.Gender</h5>

                    }
                    <br />
                    <h3 style="font-family: 'Anton', sans-serif;">BIO</h3>
                    <p style="word-break: break-word">@Model.Influenter.ProfileText</p>

                    <br />
                    <a asp-controller="Influencer" asp-action="Give" asp-route-id="@Model.Influenter.Id" class="feedback-influencer-btn width100" style="background-color: #089de3;"><i class="fa fa-star icon-hover-star" aria-hidden="true"></i>&nbsp;&nbsp;Giv feedback</a>
                    <a asp-controller="Influencer" asp-action="Read" asp-route-id="@Model.Influenter.Id" class="feedback-influencer-btn width100" style="background-color: #53b80a;"><i class="fa fa-heart icon-hover-heart" aria-hidden="true"></i>&nbsp;&nbsp;Se feedback</a>

                </div>
            </div>
            <div class="col-md-8 nopaddingmobile">
                <div class="white-box">
                    <h3 class="text-center" style="margin-bottom: 20px;"><b>SAMLET SCORE</b></h3>
                    <div class="show-rating-medium" style="margin-top: 20px;">
                        <div class="show-rating-container-medium center-block">
                            <div class="show-rating-front-medium">
                                @foreach (var v in FeedbackService.GetStars(totalScore))
                                {
                                    if (v)
                                    {
                                        <div class="show-rating-box-medium">
                                            <i class="fa fa-star" aria-hidden="true"></i>
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="show-rating-box">
                                            <i class="fa fa-star-half" aria-hidden="true"></i>
                                        </div>
                                    }
                                }
                            </div>
                            <div class="show-rating-back-medium">
                                <div class="show-rating-box-medium">
                                    <i class="fa fa-star" aria-hidden="true"></i>
                                </div>
                                <div class="show-rating-box-medium">
                                    <i class="fa fa-star" aria-hidden="true"></i>
                                </div>
                                <div class="show-rating-box-medium">
                                    <i class="fa fa-star" aria-hidden="true"></i>
                                </div>
                                <div class="show-rating-box-medium">
                                    <i class="fa fa-star" aria-hidden="true"></i>
                                </div>
                                <div class="show-rating-box-medium">
                                    <i class="fa fa-star" aria-hidden="true"></i>
                                </div>
                            </div>
                        </div>
                    </div>
                    <p class="text-center" style="margin-top: 20px; margin-bottom: 20px; font-size: 16px">@totalScore.ToString("0.00") af @Model.Influenter.Ratings.Count ratings</p>
                </div>

                <div class="white-box">
                    <h3 class="text-center" style="margin-bottom: 20px;"><b>KATEGORIER</b></h3>
                    <div class="center-icons">
                        @foreach (var v in Model.Influenter.InfluenterKategori)
                        {
                            var srcName = v.Category.Name.ToLower() + ".png";
                            <div class="tooltips">
                                <img src="~/images/Kategori/@srcName" />
                                <span class="tooltiptext">@v.Category.Name</span>
                            </div>
                        }
                    </div>
                </div>

                <div class="white-box" style="padding-top: 20px; padding-bottom: 20px">
                    <h3 class="text-center" style="margin-bottom: 20px;"><b>SOCIALE MEDIER</b></h3>
                    <div class="social-box" style="text-align: center">

                        @foreach (var v in Model.Influenter.InfluenterPlatform)
                        {
                            @if (v.Platform.Name == "Facebook")
                            {
                                <a href="@v.Link" target="_blank" class="fa fa-profile fa-facebook fa-facebook-profile"></a>
                            }
                            else if (v.Platform.Name == "YouTube")
                            {
                                <a href="@v.Link" target="_blank" class="fa fa-profile fa-youtube-play fa-youtube-profile"></a>
                            }
                            else if (v.Platform.Name == "SecondYouTube")
                            {
                                <a href="@v.Link" target="_blank" class="fa fa-profile fa-youtube-play fa-youtube-profile"></a>
                            }
                            else if (v.Platform.Name == "SnapChat")
                            {
                                <a href="http://www.snapchat.com/add/@v.Link" target="_blank" class="fa fa-profile fa-snapchat-ghost fa-snapchat-ghost-profile"></a>
                            }
                            else if (v.Platform.Name == "Instagram")
                            {
                                <a href="http://www.instagram.com/@v.Link" target="_blank" class="fa fa-profile fa-instagram fa-instagram-profile"></a>
                            }
                            else if (v.Platform.Name == "Twitter")
                            {
                                <a href="http://www.twitter.com/@v.Link" target="_blank" class="fa fa-profile fa-twitter fa-twitter-profile"></a>
                            }
                            else if (v.Platform.Name == "Twitch")
                            {
                                <a href="@v.Link" target="_blank" class="fa fa-profile fa-twitch fa-twitch-profile"></a>
                            }
                            else if (v.Platform.Name == "Website")
                            {
                                <a href="http://@v.Link" target="_blank" class="fa fa-profile fa-globe fa-globe-profile"></a>
                            }
                        }
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>